<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Dataset Generator</title>
    <style>
        :root {
            --bg-color: #080808; /* –ì–ª—É–±–æ–∫–∏–π —á–µ—Ä–Ω—ã–π */
            --panel-bg: #141414; /* –¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π –¥–ª—è –ø–∞–Ω–µ–ª–µ–π */
            --input-bg: #222222;
            --accent-color: #ccff00; /* –¢–æ—Ç —Å–∞–º—ã–π –Ω–µ–æ–Ω–æ–≤–æ-–∂–µ–ª—Ç—ã–π */
            --text-main: #ffffff;
            --text-dim: #666666;
            --border: #333333;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        /* --- –ó–æ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è --- */
        .upload-zone {
            width: 100%;
            max-width: 900px;
            height: 250px;
            border: 2px dashed var(--border);
            border-radius: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            cursor: pointer;
            transition: 0.3s;
            background-color: rgba(255,255,255,0.02);
            position: relative;
            overflow: hidden;
        }

        .upload-zone:hover {
            border-color: var(--accent-color);
            background-color: rgba(204, 255, 0, 0.05);
        }

        .upload-zone p {
            color: var(--text-dim);
            margin-top: 15px;
            font-size: 14px;
        }

        .upload-icon {
            font-size: 40px;
            color: var(--text-dim);
        }

        /* –ü—Ä–µ–≤—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–æ—Ç–æ */
        #imagePreview {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
            background-color: #000;
            display: none; /* –°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
        }
        
        #fileInput {
            display: none;
        }

        /* --- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–∫–∞–∫ –Ω–∞ —Å–∫—Ä–∏–Ω–µ) --- */
        .control-bar {
            background-color: var(--panel-bg);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 15px 25px;
            width: 100%;
            max-width: 900px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        /* –í–µ—Ä—Ö–Ω–∏–π —Ä—è–¥ –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤ (Ratio, Size, Count) */
        .controls-top {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            gap: 20px;
        }

        .group-label {
            font-size: 12px;
            font-weight: 700;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-right: 15px;
        }

        .btn-group {
            display: flex;
            background-color: #000;
            border-radius: 8px;
            padding: 4px;
            border: 1px solid var(--border);
        }

        .toggle-btn {
            background: transparent;
            border: none;
            color: var(--text-dim);
            padding: 8px 16px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .toggle-btn:hover {
            color: #fff;
        }

        /* –ê–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ (–ñ–µ–ª—Ç–∞—è) */
        .toggle-btn.active {
            background-color: var(--accent-color);
            color: #000;
            font-weight: 800;
        }

        /* –°–ª–∞–π–¥–µ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ */
        .slider-group {
            display: flex;
            align-items: center;
            background-color: #000;
            padding: 5px 15px;
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        input[type=range] {
            -webkit-appearance: none;
            width: 100px;
            height: 4px;
            background: #333;
            border-radius: 2px;
            outline: none;
            margin: 0 10px;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--accent-color);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(204,255,0,0.5);
        }

        #countVal {
            color: var(--accent-color);
            font-weight: bold;
            font-family: monospace;
            width: 20px;
            text-align: center;
        }

        /* –ù–∏–∂–Ω–∏–π —Ä—è–¥ (–ü–æ–ª–µ –≤–≤–æ–¥–∞ –∏ –ö–Ω–æ–ø–∫–∞) */
        .controls-bottom {
            display: flex;
            gap: 15px;
        }

        .text-input-wrapper {
            flex-grow: 1;
            background-color: var(--input-bg);
            border-radius: 12px;
            padding: 0 20px;
            display: flex;
            align-items: center;
            border: 1px solid transparent;
            transition: 0.3s;
        }
        
        .text-input-wrapper:focus-within {
            border-color: #444;
        }

        .icon {
            color: #555;
            font-size: 20px;
            margin-right: 15px;
        }

        input[type="text"] {
            width: 100%;
            background: transparent;
            border: none;
            color: #fff;
            padding: 18px 0;
            font-size: 15px;
            outline: none;
        }

        .generate-btn {
            background-color: #333;
            color: #888;
            border: none;
            padding: 0 35px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.3s;
        }

        .generate-btn:hover {
            background-color: var(--accent-color);
            color: #000;
            box-shadow: 0 0 20px rgba(204,255,0,0.2);
        }

        /* –ë–ª–æ–∫ –≤—ã–≤–æ–¥–∞ */
        .output-area {
            width: 100%;
            max-width: 900px;
            margin-top: 30px;
            display: none; /* –°–∫—Ä—ã—Ç –ø–æ–∫–∞ –Ω–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ */
        }

        .output-header {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 10px;
        }

        .copy-btn {
            background: transparent;
            color: var(--accent-color);
            border: 1px solid var(--accent-color);
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
        }

        .prompt-card {
            background-color: #111;
            border-left: 3px solid #333;
            padding: 20px;
            margin-bottom: 15px;
            font-family: 'Consolas', monospace;
            font-size: 13px;
            line-height: 1.5;
            color: #ccc;
        }
        
        .prompt-card:hover {
            border-left-color: var(--accent-color);
            background-color: #161616;
        }

        .tag-info {
            color: #555;
            font-size: 11px;
            margin-bottom: 8px;
            display: block;
            text-transform: uppercase;
        }

    </style>
</head>
<body>

    <div class="upload-zone" id="dropZone" onclick="document.getElementById('fileInput').click()">
        <span class="upload-icon">üì∑</span>
        <p>–ù–∞–∂–º–∏ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏ —Å—é–¥–∞ —Ñ–æ—Ç–æ (–†–µ—Ñ–µ—Ä–µ–Ω—Å)</p>
        <img id="imagePreview" alt="Preview">
        <input type="file" id="fileInput" accept="image/*">
    </div>

    <div class="control-bar">
        
        <div class="controls-top">
            
            <div style="display: flex; align-items: center;">
                <span class="group-label">RATIO</span>
                <div class="btn-group" id="ratioGroup">
                    <button class="toggle-btn" onclick="selectOption(this, 'ratio', '--ar 1:1')">1:1</button>
                    <button class="toggle-btn" onclick="selectOption(this, 'ratio', '--ar 3:4')">3:4</button>
                    <button class="toggle-btn" onclick="selectOption(this, 'ratio', '--ar 4:3')">4:3</button>
                    <button class="toggle-btn active" onclick="selectOption(this, 'ratio', '--ar 16:9')">16:9</button>
                    <button class="toggle-btn" onclick="selectOption(this, 'ratio', '--ar 9:16')">9:16</button>
                </div>
            </div>

            <div style="display: flex; align-items: center;">
                <span class="group-label">COMPLEXITY</span>
                <div class="btn-group" id="complexityGroup">
                    <button class="toggle-btn" onclick="selectOption(this, 'complexity', 'mid')">Mid</button>
                    <button class="toggle-btn active" onclick="selectOption(this, 'complexity', 'max')">Max</button>
                </div>
            </div>

            <div style="display: flex; align-items: center;">
                <span class="group-label">COUNT</span>
                <div class="slider-group">
                    <span id="countVal">10</span>
                    <input type="range" id="countRange" min="1" max="20" value="10" oninput="document.getElementById('countVal').innerText = this.value">
                </div>
            </div>

        </div>

        <div class="controls-bottom">
            <div class="text-input-wrapper">
                <span class="icon">‚ú®</span>
                <input type="text" id="extraContext" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)...">
            </div>
            <button class="generate-btn" onclick="generateBatch()">Generate</button>
        </div>
    </div>

    <div class="output-area" id="outputArea">
        <div class="output-header">
            <button class="copy-btn" onclick="copyAll()">Copy All</button>
        </div>
        <div id="promptsList"></div>
    </div>

    <script>
        // --- –õ–æ–≥–∏–∫–∞ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ---
        
        let currentSettings = {
            ratio: '--ar 16:9',
            complexity: 'max',
            hasImage: false
        };

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ (–ü—Ä–µ–≤—å—é)
        const fileInput = document.getElementById('fileInput');
        const preview = document.getElementById('imagePreview');
        const dropZone = document.getElementById('dropZone');

        fileInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                    dropZone.querySelector('p').style.display = 'none';
                    dropZone.querySelector('.upload-icon').style.display = 'none';
                    currentSettings.hasImage = true;
                }
                reader.readAsDataURL(file);
            }
        });

        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–Ω–æ–ø–æ–∫
        function selectOption(element, group, value) {
            // –£–±–∏—Ä–∞–µ–º active —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –≤ —ç—Ç–æ–π –≥—Ä—É–ø–ø–µ
            const buttons = element.parentElement.querySelectorAll('.toggle-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // –î–æ–±–∞–≤–ª—è–µ–º active –Ω–∞–∂–∞—Ç–æ–π
            element.classList.add('active');
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
            currentSettings[group] = value;
        }

        // --- –õ–æ–≥–∏–∫–∞ –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ ---

        const db = {
            subjects: [
                "standing confidently", "sitting elegantly", "walking dynamically", 
                "leaning against a wall", "looking over shoulder", "fixing hair",
                "drinking coffee", "laughing candidly", "serious editorial pose"
            ],
            clothes: [
                "silk slip dress", "oversized blazer", "leather biker jacket", 
                "vintage denim jacket", "cashmere turtleneck", "evening gown",
                "white linen shirt", "sporty chic top", "textured wool coat"
            ],
            colors: ["navy blue", "charcoal grey", "pure white", "emerald green", "beige", "black", "red"],
            places: [
                "luxury penthouse", "night city street", "underground parking", 
                "minimalist studio", "rooftop bar", "subway station", 
                "foggy forest", "desert dunes", "old library", "art gallery"
            ],
            lighting: [
                "golden hour", "blue hour", "neon lights", "soft window light", 
                "harsh flash", "studio lighting", "cinematic shadows"
            ],
            tech: [
                "Shot on Sony A7R IV", "Shot on Leica M11", "Shot on iPhone 15 Pro", 
                "Kodak Portra 400", "Fujifilm simulation", "35mm film grain"
            ]
        };

        const realismTag = "highly detailed skin texture, visible pores, natural imperfections, raw photo style, 8k resolution";

        function getR(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function generateBatch() {
            if (!currentSettings.hasImage) {
                alert("–°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ-—Ä–µ—Ñ–µ—Ä–µ–Ω—Å!");
                return;
            }

            const count = document.getElementById('countRange').value;
            const extra = document.getElementById('extraContext').value;
            const outputArea = document.getElementById('outputArea');
            const list = document.getElementById('promptsList');
            
            list.innerHTML = "";
            outputArea.style.display = "block";
            
            let allText = "";

            for(let i=0; i<count; i++) {
                // –°—Ç—Ä–æ–∏–º –ø—Ä–æ–º–ø—Ç
                let prompt = `[Attached Reference Image] `; // –¢–µ–≥ –¥–ª—è —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞
                
                if (extra) prompt += `${extra}, `;

                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏
                prompt += `female subject, ${getR(db.subjects)}, wearing ${getR(db.colors)} ${getR(db.clothes)}. `;
                prompt += `Located in ${getR(db.places)}. `;
                prompt += `Lighting: ${getR(db.lighting)}. `;
                prompt += `Technical: ${getR(db.tech)}. `;
                prompt += `${realismTag} `;
                prompt += `${currentSettings.ratio} --v 6.0 --style raw --s 250`;

                // –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
                const div = document.createElement('div');
                div.className = 'prompt-card';
                div.innerHTML = `
                    <span class="tag-info">#${i+1} | ${currentSettings.ratio.replace('--ar ', '')} | ${getR(db.places).split(' ').slice(0,2).join(' ')}</span>
                    ${prompt}
                `;
                list.appendChild(div);

                allText += prompt + "\n\n";
            }
            
            window.generatedBatchText = allText;
        }

        function copyAll() {
            if(window.generatedBatchText) {
                navigator.clipboard.writeText(window.generatedBatchText);
                const btn = document.querySelector('.copy-btn');
                const oldText = btn.innerText;
                btn.innerText = "COPIED!";
                setTimeout(() => btn.innerText = oldText, 2000);
            }
        }

    </script>
</body>
</html>
